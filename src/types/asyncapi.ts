// Generated by @asyncapi/modelina
// Do not edit manually

export type WsChannel =
  | ErrorPayload
  | CollectionImagesPayload
  | UploadCreatedPayload
  | BatchesListPayload
  | BatchUploadsListPayload
  | SubscribedPayload
  | UploadsUpdatePayload
  | UploadsCompletePayload

export interface FetchImagesPayload {
  type: 'FETCH_IMAGES'
  data: string
}

export interface UploadPayload {
  type: 'UPLOAD'
  data: UploadData
}

export interface UploadData {
  items: UploadItem[]
  handler?: string
}

export interface UploadItem {
  id: string
  input: string
  title: string
  wikitext: string
  labels?: Record<string, string>
  sdc?: Record<string, unknown>[]
}

export interface SubscribeBatchPayload {
  type: 'SUBSCRIBE_BATCH'
  data: number
}

export interface UnsubscribeBatchPayload {
  type: 'UNSUBSCRIBE_BATCH'
}

export interface SubscribeBatchesListPayload {
  type: 'SUBSCRIBE_BATCHES_LIST'
  data?: SubscribeBatchesListData
}

export interface SubscribeBatchesListData {
  userid?: string
  filter?: string
}

export interface UnsubscribeBatchesListPayload {
  type: 'UNSUBSCRIBE_BATCHES_LIST'
}

export interface FetchBatchesPayload {
  type: 'FETCH_BATCHES'
  data: FetchBatchesData
}

export interface FetchBatchesData {
  page?: number
  limit?: number
  userid?: string
  filter?: string
}

export interface FetchBatchUploadsPayload {
  type: 'FETCH_BATCH_UPLOADS'
  data: FetchBatchUploadsData
}

export interface FetchBatchUploadsData {
  batchid: number
}

export interface RetryUploadsPayload {
  type: 'RETRY_UPLOADS'
  data: RetryUploadsData
}

export interface RetryUploadsData {
  batchid: number
}

export interface ErrorPayload {
  type: 'ERROR'
  data: string
}

export interface CollectionImagesPayload {
  type: 'COLLECTION_IMAGES'
  data: CollectionImagesData
}

export interface CollectionImagesData {
  images: Record<string, MediaImage>
  creator: Creator
}

export interface MediaImage {
  id: string
  title: string
  description?: string
  dates: Dates
  creator: Creator
  location: GeoLocation
  url_original: string
  thumbnail_url: string
  preview_url: string
  url: string
  width: number
  height: number
  camera_make?: string
  camera_model?: string
  is_pano?: boolean
  license?: string
  tags?: string[]
  existing: ExistingPage[]
}

export interface Dates {
  taken: string
}

export interface Creator {
  id: string
  username: string
  profile_url: string
}

export interface GeoLocation {
  latitude: number
  longitude: number
  accuracy?: number
  compass_angle: number
}

export interface ExistingPage {
  url: string
}

export interface UploadCreatedPayload {
  type: 'UPLOAD_CREATED'
  data: UploadCreatedItem[]
}

export interface UploadCreatedItem {
  id: number
  status: string
  image_id: string
  input: string
  batchid: number
}

export interface BatchesListPayload {
  type: 'BATCHES_LIST'
  data: BatchesListData
}

export interface BatchesListData {
  items: BatchItem[]
  total: number
}

export interface BatchItem {
  id: number
  created_at: string
  username: string
  userid: string
  stats: BatchStats
}

export interface BatchStats {
  total: number
  queued: number
  in_progress: number
  completed: number
  failed: number
  duplicate: number
}

export interface BatchUploadsListPayload {
  type: 'BATCH_UPLOADS_LIST'
  data: BatchUploadsListData
}

export interface BatchUploadsListData {
  batch: BatchItem
  uploads: BatchUploadItem[]
}

export interface BatchUploadItem {
  id: number
  status: string
  filename: string
  wikitext: string
  batchid?: number
  userid?: string
  key?: string
  handler?: string
  sdc?: string
  labels?: Record<string, string>
  result?: string
  error?: DuplicateError | GenericError
  success?: string
  created_at?: string
  updated_at?: string
  image_id?: string
}

export interface DuplicateError {
  type: 'duplicate'
  message: string
  links: ErrorLink[]
}

export interface ErrorLink {
  title: string
  url: string
}

export interface GenericError {
  type: 'error'
  message: string
}

export interface SubscribedPayload {
  type: 'SUBSCRIBED'
  data: number
}

export interface UploadsUpdatePayload {
  type: 'UPLOADS_UPDATE'
  data: UploadUpdateItem[]
}

export interface UploadUpdateItem {
  id: number
  batchid: number
  status: string
  key: string
  error?: DuplicateError | GenericError
  success?: string
  handler: string
}

export interface UploadsCompletePayload {
  type: 'UPLOADS_COMPLETE'
  data: number
}

export type ClientMessage =
  | FetchImagesPayload
  | UploadPayload
  | SubscribeBatchPayload
  | UnsubscribeBatchPayload
  | SubscribeBatchesListPayload
  | UnsubscribeBatchesListPayload
  | FetchBatchesPayload
  | FetchBatchUploadsPayload
  | RetryUploadsPayload

export type ServerMessage =
  | ErrorPayload
  | CollectionImagesPayload
  | UploadCreatedPayload
  | BatchesListPayload
  | BatchUploadsListPayload
  | SubscribedPayload
  | UploadsUpdatePayload
  | UploadsCompletePayload

export type StructuredError = DuplicateError | GenericError
